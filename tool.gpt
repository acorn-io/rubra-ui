tools: service, port, open_file, open

Get the port for the running service and use the port with the open tool.
If there is a file, trim the directory from the file and remove the '.gpt' suffix. Pass the file to the open_file tool.
If there is no file, use the open tool.

---
name: service

#!sys.daemon /usr/bin/env npm run --prefix ${GPTSCRIPT_TOOL_DIR} --silent dev

---
name: port
tools: service
description: Get the port for the running service

#!http://service.daemon.gptscript.local/api/port

---

name: open_file
tools: github.com/gptscript-ai/browser
arg: port: The port the service is listening on
arg: file: The file to open

Use the browser tool to open http://localhost:${port}/run?file=${file}

---

name: open
tools: github.com/gptscript-ai/browser
arg: port: The port the service is listening on

Use the browser tool to open http://localhost:${port}
